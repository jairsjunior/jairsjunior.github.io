(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t){},162:function(e,t){},167:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(66),l=a.n(o),i=(a(73),a(4)),c=a(8),s=a(6),u=a(5),d=a(7),m=a(172),p=a(174),h=a(173),y=a(2),f=a(9),b=a(3),w=a.n(b),v=a(31),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).questions=[{text:"Teste",word:"teste"},{text:"Jane",word:"jane"},{text:"Junior",word:"junior"}],a.actualPlayer="1",w.a.subscribe("forca/player/turn/change","HomeModel",function(e,t){void 0!=e&&("1"==a.actualPlayer?a.actualPlayer="2":a.actualPlayer="1",w.a.publish("forca/player/turn/set",JSON.stringify({code:a.actualPlayer})))}),a.initManuhBridge(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"initManuhBridge",value:function(){var e=this;this.manuhBridge=new v.ManuhBridge(w.a,{protocol:"wss",host:"iot.eclipse.org",port:443,context:"ws"},function(){console.log("Client connected!"),e.manuhBridge.subscribeRemote2LocalTopics(["forca/player/turn/change","forca/player/letter/set"]),e.manuhBridge.subscribeLocal2RemoteTopics(["forca/player/turn/set","forca/end","forca/remote/question/set","forca/remote/player/letter/set","forca/player/1/add","forca/player/2/add"])})}},{key:"startGame",value:function(){w.a.publish("forca/player/turn/set",JSON.stringify({code:this.actualPlayer})),this.setWord()}},{key:"setWord",value:function(){var e=Math.floor(Math.random()*this.questions.length);w.a.publish("forca/question/set",this.questions[e]),w.a.publish("forca/remote/question/set",JSON.stringify(this.questions[e]))}},{key:"cleanGame",value:function(){window.location.reload()}}]),t}(f.RhelenaPresentationModel),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).playerName=e.player,a.playerCode=e.code,a.error=0,a.maxError=5,a.endGame=!1,w.a.subscribe("forca/player/".concat(a.playerCode,"/add"),"ForcaPlayer-".concat(a.playerCode),function(e,t){a.error++,a.error==a.maxError&&(a.endGame=!0)}),a}return Object(d.a)(t,e),t}(f.RhelenaPresentationModel),g=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Object(f.attachModelToView)(new O(this.props),this)}},{key:"render",value:function(){return n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("h2",null,this.state.playerName||"Jogador 1"),n.a.createElement("div",{style:{margin:"auto",width:"15%"}},n.a.createElement("div",{id:"image-".concat(this.state.error)})),this.state.endGame?n.a.createElement("h1",null," FIM DE JOGO! "):"")}}]),t}(r.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).question=e.question,a.letters={},a.lettersShow=[],a.lettersTry={},a.letterCorrect=0,a.wordSize=0,w.a.subscribe("forca/player/letter/set","Palavras",function(e,t){void 0!=e&&(void 0==e.letter&&(e=JSON.parse(e)),a.testLetter(e.letter,e.playerCode))}),w.a.subscribe("forca/player/word/set","Palavras",function(t,r){void 0!=t&&("remote"==e.type&&(t=JSON.parse(t)),a.testWord(t.word,t.playerCode))}),w.a.subscribe("local"==e.type?"forca/question/set":"forca/remote/question/set","Palavras",function(t,r){if(void 0!=t)for(var n in"remote"==e.type&&(t=JSON.parse(t)),a.question=t,a.letterCorrect=0,a.letters={},a.lettersShow=[],a.lettersTry={},a.wordSize=a.question.word.length,a.question.word){var o=a.question.word[n].toUpperCase();a.letters[o]=!1,a.lettersShow.push({letter:o,visible:!1}),a.letters=a.letters,a.lettersShow=a.lettersShow}}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"testWord",value:function(e,t){(e=e.trim()).size==this.wordSize&&this.question.word.toUpperCase==e.toUpperCase&&w.a.publish("forca/end",{type:"winner",player:t})}},{key:"testLetter",value:function(e,t){var a=e.toUpperCase();if(void 0==this.letters[a])void 0==this.lettersTry[a]?(this.lettersTry[a]=a,this.lettersTry=this.lettersTry,w.a.publish("forca/player/".concat(t,"/add"),{letter:a,player:this.playerName},{retained:!0})):console.log("Letra j\xe1 informada!");else{for(var r in this.letters[a]=!0,this.lettersShow)this.lettersShow[r].letter==a&&(w.a.publish("forca/remote/player/letter/set",JSON.stringify({letter:a,player:this.playerName})),this.lettersShow[r].visible=!0,this.letterCorrect++,this.lettersShow=this.lettersShow);this.letterCorrect==this.wordSize&&w.a.publish("forca/end",{type:"winner",player:t,runningGame:!1})}}}]),t}(f.RhelenaPresentationModel),C=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Object(f.attachModelToView)(new j(this.props),this)}},{key:"render",value:function(){return void 0!=this.state.question?n.a.createElement(y.Grid,{fluid:!0},n.a.createElement(y.Row,{key:"a"},n.a.createElement(y.Col,{xs:12,md:12},n.a.createElement("div",null,n.a.createElement("h3",null,"Pergunta:"),this.state.question.text))),n.a.createElement(y.Row,{key:"b"},n.a.createElement(y.Col,{xs:12,md:12},n.a.createElement("div",{style:{margin:"2em"}},this.state.lettersShow.map(function(e,t){return e.visible?n.a.createElement("span",{key:t,style:{borderColor:"black",borderWidth:"2px",borderStyle:"solid",padding:"5px",margin:"10px"}},e.letter):n.a.createElement("span",{key:t,style:{borderColor:"black",borderWidth:"2px",borderStyle:"solid",padding:"5px",margin:"10px"}},"\xa0\xa0")})))),n.a.createElement(y.Row,{key:"c"},n.a.createElement(y.Col,{xs:12,md:12},n.a.createElement("div",{style:{marginTop:"4em",marginBottom:"2em"}},n.a.createElement("h3",null,"Letras com Tentativa"),Object.values(this.state.lettersTry).map(function(e){return n.a.createElement("span",{style:{padding:"5px",margin:"10px"}},e)}))))):""}}]),t}(r.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).playerName=e.player,a.playerCode=e.code,a.letter="",a.myTurn=!1,w.a.subscribe("forca/player/turn/set","PlayerInput-".concat(a.playerCode),function(e,t){void 0!=e&&(e=JSON.parse(e),console.log("Turn Change: ",e),console.log("Player Code",a.playerCode),console.log(a.playerCode==e.code),a.playerCode==e.code?(a.myTurn=!0,console.log("SET MY TURN ==>")):a.myTurn=!1)}),w.a.subscribe("forca/end","PlayerInput-".concat(a.playerCode),function(e,t){null!=e&&0==e.runningGame&&(a.myTurn=!1)}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"testLetter",value:function(){""!=this.letter&&(w.a.publish("forca/player/letter/set",JSON.stringify({letter:this.letter,player:this.playerName,playerCode:this.playerCode})),w.a.publish("forca/player/turn/change",JSON.stringify({actual:this.playerCode})),this.letter="")}},{key:"setLetter",value:function(e){this.letter=e}}]),t}(f.RhelenaPresentationModel),x=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Object(f.attachModelToView)(new k(this.props),this)}},{key:"render",value:function(){var e=this;return n.a.createElement(y.Grid,{fluid:!0},n.a.createElement(y.Row,{key:"a"},n.a.createElement(y.Col,{xs:12,md:12},n.a.createElement("span",null,this.state.playerName))),n.a.createElement(y.Row,{key:"b"},n.a.createElement(y.Col,{xs:12,md:12},n.a.createElement("input",{onChange:function(t){return e.viewModel.setLetter(t.target.value)},value:this.state.letter,maxLength:"1"}),n.a.createElement("button",{onClick:function(){return e.viewModel.testLetter()},disabled:!this.state.myTurn},"Enviar"))))}}]),t}(r.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Object(f.attachModelToView)(new E(this.props),this)}},{key:"render",value:function(){var e=this;return n.a.createElement(y.Grid,{fluid:!0},n.a.createElement(y.Row,null,n.a.createElement("h1",null," Forca do 5 S")),n.a.createElement(y.Row,null,n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(y.Row,null,n.a.createElement(C,{type:"local"}))),n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(y.Row,null,n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(g,{player:"Jogador 1",code:"1"})),n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(g,{player:"Jogador 2",code:"2"}))))),n.a.createElement(y.Row,null,n.a.createElement("div",{style:{margingTop:"1em"}},n.a.createElement("h5",null,"Configura\xe7\xf5es"),n.a.createElement("button",{onClick:function(){return e.viewModel.startGame()}},"Iniciar Jogo"),n.a.createElement("button",{onClick:function(){return e.viewModel.setWord()}},"Proxima Palavra"),n.a.createElement("button",{onClick:function(){return e.viewModel.cleanGame()}},"Limpar Jogo"))))}}]),t}(r.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).playerName=e.player,a.playerCode=e.code,console.log("props",JSON.stringify(e)),a.initManuhBridge(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"initManuhBridge",value:function(){var e=this;this.manuhBridge=new v.ManuhBridge(w.a,{protocol:"wss",host:"iot.eclipse.org",port:443,context:"ws"},function(){console.log("Client connected!"),e.manuhBridge.subscribeRemote2LocalTopics(["forca/player/".concat(e.playerCode,"/add"),"forca/player/turn/set","forca/end","forca/remote/question/set"]),e.manuhBridge.subscribeLocal2RemoteTopics(["forca/player/letter/set","forca/player/turn/change"])})}}]),t}(f.RhelenaPresentationModel),T=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){Object(f.attachModelToView)(new S(this.props),this)}},{key:"render",value:function(){return n.a.createElement(y.Grid,{fluid:!0},n.a.createElement(y.Row,null,n.a.createElement("h1",null,"Forca do 5 S")),n.a.createElement(y.Row,null,n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(y.Row,null),n.a.createElement(y.Row,null,n.a.createElement(y.Col,{xs:12,md:12},n.a.createElement(x,{player:this.state.playerName,code:this.state.playerCode})))),n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(y.Row,null,n.a.createElement(y.Col,{xs:12,md:6},n.a.createElement(g,{player:this.state.playerName,code:this.state.playerCode}))))))}}]),t}(r.Component),P=(a(167),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).HomePlayer1=function(e){return n.a.createElement(T,Object.assign({player:"Jogador 1",code:"1"},e))},a.HomePlayer2=function(e){return n.a.createElement(T,Object.assign({player:"Jogador 2",code:"2"},e))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m.a,{basename:""},n.a.createElement(p.a,null,n.a.createElement(h.a,{path:"/",exact:!0,component:M}),n.a.createElement(h.a,{path:"/player1",component:this.HomePlayer1}),n.a.createElement(h.a,{path:"/player2",component:this.HomePlayer2}))))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,t,a){e.exports=a(170)},73:function(e,t,a){},91:function(e,t){},93:function(e,t){}},[[68,2,1]]]);
//# sourceMappingURL=main.8cf8bd57.chunk.js.map